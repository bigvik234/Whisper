{"ast":null,"code":"var _jsxFileName = \"/workspaces/Whisper/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentPage, setCurrentPage] = useState('phone'); // 'phone' → 'otp' → 'setup' → 'chat'\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [otp, setOtp] = useState('');\n  const [name, setName] = useState('');\n  const [chats, setChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [countdown, setCountdown] = useState(0);\n  const [userId, setUserId] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  // OTP countdown\n  useEffect(() => {\n    let timer;\n    if (countdown > 0) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    }\n    return () => clearTimeout(timer);\n  }, [countdown]);\n  useEffect(() => {\n    if (selectedChat && messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [selectedChat, message]);\n\n  // Format time safely\n  const formatTime = timeString => {\n    if (!/^\\d{1,2}:\\d{2} [AP]M$/.test(timeString)) return timeString;\n    const now = new Date();\n    const [timePart, modifier] = timeString.split(' ');\n    let [hours, minutes] = timePart.split(':');\n    hours = parseInt(hours, 10);\n    minutes = parseInt(minutes, 10);\n    if (modifier === 'PM' && hours !== 12) hours += 12;\n    if (modifier === 'AM' && hours === 12) hours = 0;\n    const time = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes);\n    const diffDays = Math.floor((now - time) / (1000 * 60 * 60 * 24));\n    return diffDays === 0 ? timeString : `${time.getMonth() + 1}/${time.getDate()}`;\n  };\n\n  // --- AUTH FLOW ---\n\n  // Step 1: Send OTP\n  const handleSendOTP = async e => {\n    e.preventDefault();\n    if (!phoneNumber) return;\n    try {\n      const res = await fetch('/api/auth/send-otp', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          phone: phoneNumber\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setUserId(data.userId);\n        setCurrentPage('otp');\n        setCountdown(60);\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error. Is backend running?');\n    }\n  };\n\n  // Step 2: Verify OTP\n  const handleVerifyOTP = async e => {\n    e.preventDefault();\n    if (otp.length !== 6) return;\n    try {\n      const res = await fetch('/api/auth/verify-otp', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId,\n          code: otp\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        localStorage.setItem('token', data.token);\n        setCurrentUser(data.user);\n\n        // If new user, go to setup\n        if (!data.isExisting) {\n          setCurrentPage('setup');\n        } else {\n          loadChats(data.token);\n          setCurrentPage('chat');\n        }\n      } else {\n        alert('Invalid OTP');\n      }\n    } catch (err) {\n      alert('Error verifying OTP');\n    }\n  };\n\n  // Step 3: Set Name (for new users)\n  const handleSetupProfile = async e => {\n    e.preventDefault();\n    if (!name.trim()) return;\n    try {\n      const res = await fetch('/api/auth/setup-profile', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          name\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setCurrentUser(prev => ({\n          ...prev,\n          name\n        }));\n        loadChats(localStorage.getItem('token'));\n        setCurrentPage('chat');\n      }\n    } catch (err) {\n      alert('Failed to set name');\n    }\n  };\n  const loadChats = async token => {\n    try {\n      const res = await fetch('/api/chats', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      setChats(data);\n    } catch (err) {\n      console.error('Failed to load chats', err);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!message.trim() || !selectedChat) return;\n    const token = localStorage.getItem('token');\n    try {\n      const res = await fetch('/api/chats/send', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          chatId: selectedChat.id,\n          text: message\n        })\n      });\n      const updatedChat = await res.json();\n      if (res.ok) {\n        setChats(prev => prev.map(c => c._id === updatedChat._id ? updatedChat : c));\n        setSelectedChat(updatedChat);\n        setMessage('');\n      }\n    } catch (err) {\n      console.error('Send failed', err);\n    }\n  };\n  const handleLogout = () => {\n    setCurrentPage('phone');\n    setCurrentUser(null);\n    setSelectedChat(null);\n    setChats([]);\n    setPhoneNumber('');\n    setOtp('');\n    setName('');\n    setUserId(null);\n    setCountdown(0);\n    localStorage.removeItem('token');\n  };\n\n  // --- RENDER PAGES ---\n\n  if (currentPage === 'phone') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 text-white\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Whisper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: \"Enter your phone number to continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSendOTP,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              value: phoneNumber,\n              onChange: e => setPhoneNumber(e.target.value),\n              placeholder: \"+1234567890\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\",\n            children: \"Send OTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentPage === 'otp') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 text-white\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Verify Your Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: [\"We've sent a 6-digit code to \", phoneNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleVerifyOTP,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Enter Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: otp,\n              onChange: e => setOtp(e.target.value),\n              placeholder: \"Enter 6-digit code\",\n              maxLength: \"6\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 text-center\",\n            children: [\"Didn't receive the code?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleSendOTP,\n              disabled: countdown > 0,\n              className: `text-green-600 hover:text-green-700 ${countdown > 0 ? 'opacity-50 cursor-not-allowed' : ''}`,\n              children: countdown > 0 ? `Resend in ${countdown}s` : 'Resend'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\",\n            children: \"Verify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentPage === 'setup') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 text-white\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Almost Done!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: \"Set your name to get started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSetupProfile,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Your Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              placeholder: \"Enter your name\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\",\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentPage === 'chat' && currentUser) {\n    var _currentUser$name;\n    const filteredChats = chats.filter(chat => chat.name.toLowerCase().includes(''));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen bg-gray-100 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 bg-white border-r border-gray-200 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-green-600 text-white flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-semibold\",\n            children: \"Whisper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"hover:bg-white/20 p-2 rounded-full transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-5 w-5\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-200 flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://placehold.co/40x40/6366f1/ffffff?text=${(currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$name = currentUser.name) === null || _currentUser$name === void 0 ? void 0 : _currentUser$name.charAt(0)) || 'U'}`,\n            alt: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'User',\n            className: \"w-10 h-10 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-900\",\n              children: currentUser.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: currentUser.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"text-gray-500 hover:text-red-600 p-2 rounded-full transition-colors\",\n            title: \"Logout\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search or start new chat\",\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5 text-gray-400 absolute left-3 top-2.5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto\",\n          children: filteredChats.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setSelectedChat(chat),\n            className: `p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${(selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id) === chat.id ? 'bg-gray-100' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: chat.avatar.trim(),\n                alt: chat.name,\n                className: \"w-12 h-12 rounded-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-medium text-gray-900 truncate\",\n                    children: chat.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: formatTime(chat.time)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 truncate\",\n                    children: chat.lastMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 23\n                  }, this), chat.unread > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\",\n                    children: chat.unread\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)\n          }, chat.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col\",\n        children: selectedChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-b border-gray-200 p-3 flex items-center justify-between\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: selectedChat.avatar.trim(),\n                alt: selectedChat.name,\n                className: \"w-10 h-10 rounded-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: selectedChat.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"online\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 bg-gray-100 p-4 overflow-y-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [selectedChat.messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex ${msg.sender === 'me' ? 'justify-end' : 'justify-start'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${msg.sender === 'me' ? 'bg-green-600 text-white' : 'bg-white text-gray-800 shadow'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: msg.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `text-xs mt-1 ${msg.sender === 'me' ? 'text-green-100' : 'text-gray-500'}`,\n                    children: msg.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this)\n              }, msg.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-t border-gray-200 p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSendMessage,\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: message,\n                onChange: e => setMessage(e.target.value),\n                placeholder: \"Type a message\",\n                className: \"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"bg-green-600 hover:bg-green-700 text-white p-2 rounded-full transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-5 w-5\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M14 5l7 7m0 0l-7 7m7-7H3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex items-center justify-center bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-24 h-24 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-12 w-12 text-white\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-semibold text-gray-900 mb-2\",\n              children: \"Welcome to Whisper\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Select a chat to start messaging\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(App, \"kmYNxNXLYw/n6MW4RgUVHQRuZyo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","currentPage","setCurrentPage","phoneNumber","setPhoneNumber","otp","setOtp","name","setName","chats","setChats","selectedChat","setSelectedChat","message","setMessage","currentUser","setCurrentUser","countdown","setCountdown","userId","setUserId","messagesEndRef","timer","setTimeout","clearTimeout","current","scrollIntoView","behavior","formatTime","timeString","test","now","Date","timePart","modifier","split","hours","minutes","parseInt","time","getFullYear","getMonth","getDate","diffDays","Math","floor","handleSendOTP","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","phone","data","json","ok","alert","error","err","handleVerifyOTP","length","code","localStorage","setItem","token","user","isExisting","loadChats","handleSetupProfile","trim","getItem","prev","console","handleSendMessage","chatId","id","text","updatedChat","map","c","_id","handleLogout","removeItem","className","children","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","maxLength","onClick","disabled","_currentUser$name","filteredChats","filter","chat","toLowerCase","includes","src","charAt","alt","title","avatar","lastMessage","unread","messages","msg","sender","ref","_c","$RefreshReg$"],"sources":["/workspaces/Whisper/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('phone'); // 'phone' → 'otp' → 'setup' → 'chat'\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [otp, setOtp] = useState('');\n  const [name, setName] = useState('');\n  const [chats, setChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [countdown, setCountdown] = useState(0);\n  const [userId, setUserId] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  // OTP countdown\n  useEffect(() => {\n    let timer;\n    if (countdown > 0) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    }\n    return () => clearTimeout(timer);\n  }, [countdown]);\n\n  useEffect(() => {\n    if (selectedChat && messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [selectedChat, message]);\n\n  // Format time safely\n  const formatTime = (timeString) => {\n    if (!/^\\d{1,2}:\\d{2} [AP]M$/.test(timeString)) return timeString;\n    const now = new Date();\n    const [timePart, modifier] = timeString.split(' ');\n    let [hours, minutes] = timePart.split(':');\n    hours = parseInt(hours, 10);\n    minutes = parseInt(minutes, 10);\n\n    if (modifier === 'PM' && hours !== 12) hours += 12;\n    if (modifier === 'AM' && hours === 12) hours = 0;\n\n    const time = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes);\n    const diffDays = Math.floor((now - time) / (1000 * 60 * 60 * 24));\n    return diffDays === 0 ? timeString : `${time.getMonth() + 1}/${time.getDate()}`;\n  };\n\n  // --- AUTH FLOW ---\n\n  // Step 1: Send OTP\n  const handleSendOTP = async (e) => {\n    e.preventDefault();\n    if (!phoneNumber) return;\n\n    try {\n      const res = await fetch('/api/auth/send-otp', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ phone: phoneNumber }),\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        setUserId(data.userId);\n        setCurrentPage('otp');\n        setCountdown(60);\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error. Is backend running?');\n    }\n  };\n\n  // Step 2: Verify OTP\n  const handleVerifyOTP = async (e) => {\n    e.preventDefault();\n    if (otp.length !== 6) return;\n\n    try {\n      const res = await fetch('/api/auth/verify-otp', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userId, code: otp }),\n      });\n\n      const data = await res.json();\n\n      if (res.ok) {\n        localStorage.setItem('token', data.token);\n        setCurrentUser(data.user);\n\n        // If new user, go to setup\n        if (!data.isExisting) {\n          setCurrentPage('setup');\n        } else {\n          loadChats(data.token);\n          setCurrentPage('chat');\n        }\n      } else {\n        alert('Invalid OTP');\n      }\n    } catch (err) {\n      alert('Error verifying OTP');\n    }\n  };\n\n  // Step 3: Set Name (for new users)\n  const handleSetupProfile = async (e) => {\n    e.preventDefault();\n    if (!name.trim()) return;\n\n    try {\n      const res = await fetch('/api/auth/setup-profile', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({ name }),\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        setCurrentUser(prev => ({ ...prev, name }));\n        loadChats(localStorage.getItem('token'));\n        setCurrentPage('chat');\n      }\n    } catch (err) {\n      alert('Failed to set name');\n    }\n  };\n\n  const loadChats = async (token) => {\n    try {\n      const res = await fetch('/api/chats', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      const data = await res.json();\n      setChats(data);\n    } catch (err) {\n      console.error('Failed to load chats', err);\n    }\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!message.trim() || !selectedChat) return;\n\n    const token = localStorage.getItem('token');\n    try {\n      const res = await fetch('/api/chats/send', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          chatId: selectedChat.id,\n          text: message\n        })\n      });\n\n      const updatedChat = await res.json();\n      if (res.ok) {\n        setChats(prev => prev.map(c => c._id === updatedChat._id ? updatedChat : c));\n        setSelectedChat(updatedChat);\n        setMessage('');\n      }\n    } catch (err) {\n      console.error('Send failed', err);\n    }\n  };\n\n  const handleLogout = () => {\n    setCurrentPage('phone');\n    setCurrentUser(null);\n    setSelectedChat(null);\n    setChats([]);\n    setPhoneNumber('');\n    setOtp('');\n    setName('');\n    setUserId(null);\n    setCountdown(0);\n    localStorage.removeItem('token');\n  };\n\n  // --- RENDER PAGES ---\n\n  if (currentPage === 'phone') {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Whisper</h1>\n            <p className=\"text-gray-600 mt-2\">Enter your phone number to continue</p>\n          </div>\n\n          <form onSubmit={handleSendOTP} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number</label>\n              <input\n                type=\"tel\"\n                value={phoneNumber}\n                onChange={(e) => setPhoneNumber(e.target.value)}\n                placeholder=\"+1234567890\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n            >\n              Send OTP\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentPage === 'otp') {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Verify Your Number</h1>\n            <p className=\"text-gray-600 mt-2\">We've sent a 6-digit code to {phoneNumber}</p>\n          </div>\n\n          <form onSubmit={handleVerifyOTP} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Enter Code</label>\n              <input\n                type=\"text\"\n                value={otp}\n                onChange={(e) => setOtp(e.target.value)}\n                placeholder=\"Enter 6-digit code\"\n                maxLength=\"6\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg\"\n                required\n              />\n            </div>\n            <p className=\"text-sm text-gray-500 text-center\">\n              Didn't receive the code?{' '}\n              <button\n                type=\"button\"\n                onClick={handleSendOTP}\n                disabled={countdown > 0}\n                className={`text-green-600 hover:text-green-700 ${countdown > 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\n              >\n                {countdown > 0 ? `Resend in ${countdown}s` : 'Resend'}\n              </button>\n            </p>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n            >\n              Verify\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentPage === 'setup') {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Almost Done!</h1>\n            <p className=\"text-gray-600 mt-2\">Set your name to get started</p>\n          </div>\n\n          <form onSubmit={handleSetupProfile} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Your Name</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Enter your name\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n            >\n              Continue\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentPage === 'chat' && currentUser) {\n    const filteredChats = chats.filter(chat =>\n      chat.name.toLowerCase().includes('')\n    );\n\n    return (\n      <div className=\"h-screen bg-gray-100 flex\">\n        {/* Sidebar */}\n        <div className=\"w-80 bg-white border-r border-gray-200 flex flex-col\">\n          {/* Header */}\n          <div className=\"p-4 bg-green-600 text-white flex items-center justify-between\">\n            <h1 className=\"text-xl font-semibold\">Whisper</h1>\n            <div className=\"flex space-x-3\">\n              <button className=\"hover:bg-white/20 p-2 rounded-full transition-colors\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          {/* User Profile */}\n          <div className=\"p-4 border-b border-gray-200 flex items-center space-x-3\">\n            <img\n              src={`https://placehold.co/40x40/6366f1/ffffff?text=${currentUser?.name?.charAt(0) || 'U'}`}\n              alt={currentUser?.name || 'User'}\n              className=\"w-10 h-10 rounded-full object-cover\"\n            />\n            <div className=\"flex-1\">\n              <h3 className=\"font-medium text-gray-900\">{currentUser.name}</h3>\n              <p className=\"text-sm text-gray-500\">{currentUser.phone}</p>\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"text-gray-500 hover:text-red-600 p-2 rounded-full transition-colors\"\n              title=\"Logout\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Search */}\n          <div className=\"p-3 border-b border-gray-200\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                placeholder=\"Search or start new chat\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-5 w-5 text-gray-400 absolute left-3 top-2.5\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n          </div>\n\n          {/* Chat List */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {filteredChats.map((chat) => (\n              <div\n                key={chat.id}\n                onClick={() => setSelectedChat(chat)}\n                className={`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${\n                  selectedChat?.id === chat.id ? 'bg-gray-100' : ''\n                }`}\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <img\n                    src={chat.avatar.trim()}\n                    alt={chat.name}\n                    className=\"w-12 h-12 rounded-full object-cover\"\n                  />\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex justify-between items-center\">\n                      <h3 className=\"text-sm font-medium text-gray-900 truncate\">{chat.name}</h3>\n                      <p className=\"text-xs text-gray-500\">{formatTime(chat.time)}</p>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <p className=\"text-sm text-gray-600 truncate\">{chat.lastMessage}</p>\n                      {chat.unread > 0 && (\n                        <span className=\"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                          {chat.unread}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Main Chat Area */}\n        <div className=\"flex-1 flex flex-col\">\n          {selectedChat ? (\n            <>\n              {/* Chat Header */}\n              <div className=\"bg-white border-b border-gray-200 p-3 flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <img\n                    src={selectedChat.avatar.trim()}\n                    alt={selectedChat.name}\n                    className=\"w-10 h-10 rounded-full object-cover\"\n                  />\n                  <div>\n                    <h2 className=\"text-lg font-medium text-gray-900\">{selectedChat.name}</h2>\n                    <p className=\"text-sm text-gray-500\">online</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"flex-1 bg-gray-100 p-4 overflow-y-auto\">\n                <div className=\"space-y-4\">\n                  {selectedChat.messages.map((msg) => (\n                    <div\n                      key={msg.id}\n                      className={`flex ${msg.sender === 'me' ? 'justify-end' : 'justify-start'}`}\n                    >\n                      <div\n                        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                          msg.sender === 'me'\n                            ? 'bg-green-600 text-white'\n                            : 'bg-white text-gray-800 shadow'\n                        }`}\n                      >\n                        <p className=\"text-sm\">{msg.text}</p>\n                        <p\n                          className={`text-xs mt-1 ${\n                            msg.sender === 'me' ? 'text-green-100' : 'text-gray-500'\n                          }`}\n                        >\n                          {msg.time}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                  <div ref={messagesEndRef} />\n                </div>\n              </div>\n\n              {/* Message Input */}\n              <div className=\"bg-white border-t border-gray-200 p-3\">\n                <form onSubmit={handleSendMessage} className=\"flex items-center space-x-3\">\n                  <input\n                    type=\"text\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    placeholder=\"Type a message\"\n                    className=\"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  />\n                  <button\n                    type=\"submit\"\n                    className=\"bg-green-600 hover:bg-green-700 text-white p-2 rounded-full transition-colors\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\n                    </svg>\n                  </button>\n                </form>\n              </div>\n            </>\n          ) : (\n            <div className=\"flex-1 flex items-center justify-center bg-gray-100\">\n              <div className=\"text-center\">\n                <div className=\"w-24 h-24 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                  </svg>\n                </div>\n                <h2 className=\"text-2xl font-semibold text-gray-900 mb-2\">Welcome to Whisper</h2>\n                <p className=\"text-gray-600\">Select a chat to start messaging</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}