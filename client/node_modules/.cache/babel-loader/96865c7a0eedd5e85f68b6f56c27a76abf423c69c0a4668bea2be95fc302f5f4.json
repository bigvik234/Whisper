{"ast":null,"code":"var _jsxFileName = \"/workspaces/Whisper/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentPage, setCurrentPage] = useState('login');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [otp, setOtp] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [chats, setChats] = useState([]);\n  const [activeTab, setActiveTab] = useState('chats');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [verificationStep, setVerificationStep] = useState(1);\n  const [countdown, setCountdown] = useState(0);\n  const messagesEndRef = useRef(null);\n  const [userId, setUserId] = useState(null); // Store temp user ID from backend\n\n  // OTP countdown\n  useEffect(() => {\n    let timer;\n    if (countdown > 0) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    }\n    return () => clearTimeout(timer);\n  }, [countdown]);\n  useEffect(() => {\n    if (selectedChat && messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [selectedChat, message]);\n\n  // Format time safely\n  const formatTime = timeString => {\n    if (!/^\\d{1,2}:\\d{2} [AP]M$/.test(timeString)) return timeString;\n    const now = new Date();\n    const [timePart, modifier] = timeString.split(' ');\n    let [hours, minutes] = timePart.split(':');\n    hours = parseInt(hours, 10);\n    minutes = parseInt(minutes, 10);\n    if (modifier === 'PM' && hours !== 12) hours += 12;\n    if (modifier === 'AM' && hours === 12) hours = 0;\n    const time = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes);\n    const diffDays = Math.floor((now - time) / (1000 * 60 * 60 * 24));\n    return diffDays === 0 ? timeString : `${time.getMonth() + 1}/${time.getDate()}`;\n  };\n  const handleLoginSubmit = async e => {\n    e.preventDefault();\n    if (!phoneNumber && !email) return;\n    try {\n      const res = await fetch('/api/auth/send-otp', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          phone: phoneNumber || undefined,\n          email: email || undefined\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setUserId(data.userId);\n        setCurrentPage('verification');\n        setVerificationStep(1);\n        setCountdown(60);\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error. Is backend running?');\n    }\n  };\n  const handleRegisterSubmit = async e => {\n    e.preventDefault();\n    if (!name || !phoneNumber && !email || password !== confirmPassword) return;\n    try {\n      const res = await fetch('/api/auth/send-otp', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          phone: phoneNumber || undefined,\n          email: email || undefined\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setUserId(data.userId);\n        setCurrentPage('verification');\n        setVerificationStep(1);\n        setCountdown(60);\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error. Is backend running?');\n    }\n  };\n  const handleResendOTP = async () => {\n    if (countdown > 0) return;\n    await handleLoginSubmit({\n      preventDefault: () => {}\n    });\n  };\n  const handleVerificationSubmit = async e => {\n    e.preventDefault();\n    if (otp.length !== 6) return;\n    const payload = {\n      userId,\n      code: otp\n    };\n    if (verificationStep === 2) {\n      if (password !== confirmPassword) {\n        alert('Passwords do not match');\n        return;\n      }\n      // ✅ Fixed: 'phone' → 'phoneNumber'\n      Object.assign(payload, {\n        name,\n        email,\n        phoneNumber,\n        password\n      });\n    }\n    try {\n      const res = await fetch('/api/auth/verify-otp', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      if (res.ok) {\n        localStorage.setItem('token', data.token);\n        setCurrentUser(data.user);\n        loadChats(data.token);\n        setCurrentPage('chat');\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error: ' + err.message);\n    }\n  };\n  const loadChats = async token => {\n    try {\n      const res = await fetch('/api/chats', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      setChats(data);\n    } catch (err) {\n      console.error('Failed to load chats', err);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!message.trim() || !selectedChat) return;\n    const token = localStorage.getItem('token');\n    try {\n      const res = await fetch('/api/chats/send', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          chatId: selectedChat.id,\n          text: message\n        })\n      });\n      const updatedChat = await res.json();\n      if (res.ok) {\n        setChats(prev => prev.map(c => c._id === updatedChat._id ? updatedChat : c));\n        setSelectedChat(updatedChat);\n        setMessage('');\n      }\n    } catch (err) {\n      console.error('Send failed', err);\n    }\n  };\n  const handleLogout = () => {\n    setCurrentPage('login');\n    setCurrentUser(null);\n    setSelectedChat(null);\n    setChats([]);\n    setPhoneNumber('');\n    setEmail('');\n    setName('');\n    setPassword('');\n    setConfirmPassword('');\n    setOtp('');\n    setUserId(null);\n    setCountdown(0);\n    localStorage.removeItem('token');\n  };\n\n  // --- RENDER PAGES ---\n\n  if (currentPage === 'login') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 text-white\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Whisper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: \"Sign in to your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLoginSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Phone Number or Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: phoneNumber,\n                onChange: e => setPhoneNumber(e.target.value),\n                placeholder: \"Phone number\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center my-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 border-t border-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-4 text-gray-500 text-sm\",\n                  children: \"or\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 border-t border-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                placeholder: \"Email address\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\",\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentPage('register'),\n              className: \"text-green-600 hover:text-green-700 font-medium\",\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentPage === 'register') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 text-white\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Whisper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: \"Create a new account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegisterSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              placeholder: \"Enter your full name\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Phone Number or Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: phoneNumber,\n                onChange: e => setPhoneNumber(e.target.value),\n                placeholder: \"Phone number (optional)\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center my-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 border-t border-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-4 text-gray-500 text-sm\",\n                  children: \"or\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 border-t border-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                placeholder: \"Email address\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              placeholder: \"Create a password\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: confirmPassword,\n              onChange: e => setConfirmPassword(e.target.value),\n              placeholder: \"Confirm your password\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), password && confirmPassword && password !== confirmPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm\",\n            children: \"Passwords don't match\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !password || password !== confirmPassword,\n            className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\",\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentPage('login'),\n              className: \"text-green-600 hover:text-green-700 font-medium\",\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentPage === 'verification') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 text-white\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Verify Your Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: verificationStep === 1 ? `We've sent a 6-digit code to ${phoneNumber || email}` : 'Create a password to secure your account'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleVerificationSubmit,\n          className: \"space-y-6\",\n          children: [verificationStep === 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Verification Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: otp,\n                onChange: e => setOtp(e.target.value),\n                placeholder: \"Enter 6-digit code\",\n                maxLength: \"6\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 text-center\",\n              children: [\"Didn't receive the code?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleResendOTP,\n                disabled: countdown > 0,\n                className: `text-green-600 hover:text-green-700 ${countdown > 0 ? 'opacity-50 cursor-not-allowed' : ''}`,\n                children: countdown > 0 ? `Resend in ${countdown}s` : 'Resend'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"New Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                placeholder: \"Create a new password\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Confirm Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value),\n                placeholder: \"Confirm your password\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), password && confirmPassword && password !== confirmPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm\",\n              children: \"Passwords don't match\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: verificationStep === 2 && (!password || password !== confirmPassword),\n            className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\",\n            children: verificationStep === 1 ? 'Verify Code' : 'Complete Setup'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentPage('login'),\n            className: \"text-gray-600 hover:text-gray-800 text-sm\",\n            children: \"Back to Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentPage === 'chat' && currentUser) {\n    const filteredChats = chats.filter(chat => chat.name.toLowerCase().includes(searchQuery.toLowerCase()));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen bg-gray-100 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 bg-white border-r border-gray-200 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-green-600 text-white flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-semibold\",\n            children: \"Whisper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"hover:bg-white/20 p-2 rounded-full transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-5 w-5\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"hover:bg-white/20 p-2 rounded-full transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-5 w-5\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-200 flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://placehold.co/40x40/6366f1/ffffff?text=${currentUser.name.charAt(0)}`,\n            alt: currentUser.name,\n            className: \"w-10 h-10 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-900\",\n              children: currentUser.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: currentUser.phone || currentUser.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"text-gray-500 hover:text-red-600 p-2 rounded-full transition-colors\",\n            title: \"Logout\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('chats'),\n            className: `flex-1 py-3 text-sm font-medium transition-colors ${activeTab === 'chats' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`,\n            children: \"Chats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('status'),\n            className: `flex-1 py-3 text-sm font-medium transition-colors ${activeTab === 'status' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`,\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('calls'),\n            className: `flex-1 py-3 text-sm font-medium transition-colors ${activeTab === 'calls' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'}`,\n            children: \"Calls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search or start new chat\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5 text-gray-400 absolute left-3 top-2.5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto\",\n          children: filteredChats.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setSelectedChat(chat),\n            className: `p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${(selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id) === chat.id ? 'bg-gray-100' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: chat.avatar.trim(),\n                alt: chat.name,\n                className: \"w-12 h-12 rounded-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-medium text-gray-900 truncate\",\n                    children: chat.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: formatTime(chat.time)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 truncate\",\n                    children: chat.lastMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 602,\n                    columnNumber: 23\n                  }, this), chat.unread > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\",\n                    children: chat.unread\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 17\n            }, this)\n          }, chat.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col\",\n        children: selectedChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-b border-gray-200 p-3 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: selectedChat.avatar.trim(),\n                alt: selectedChat.name,\n                className: \"w-10 h-10 rounded-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: selectedChat.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"online\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"hover:bg-gray-100 p-2 rounded-full transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-5 w-5 text-gray-600\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"hover:bg-gray-100 p-2 rounded-full transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-5 w-5 text-gray-600\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 641,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"hover:bg-gray-100 p-2 rounded-full transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-5 w-5 text-gray-600\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 bg-gray-100 p-4 overflow-y-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [selectedChat.messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex ${msg.sender === 'me' ? 'justify-end' : 'justify-start'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${msg.sender === 'me' ? 'bg-green-600 text-white' : 'bg-white text-gray-800 shadow'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: msg.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `text-xs mt-1 ${msg.sender === 'me' ? 'text-green-100' : 'text-gray-500'}`,\n                    children: msg.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 23\n                }, this)\n              }, msg.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-t border-gray-200 p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSendMessage,\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"text-gray-500 hover:text-gray-700 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-6 w-6\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.5a2.5 2.5 0 005 0H14M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H5a2 2 0 00-2 2v5a2 2 0 002 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 690,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"text-gray-500 hover:text-gray-700 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-6 w-6\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 698,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: message,\n                onChange: e => setMessage(e.target.value),\n                placeholder: \"Type a message\",\n                className: \"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"bg-green-600 hover:bg-green-700 text-white p-2 rounded-full transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-5 w-5\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M14 5l7 7m0 0l-7 7m7-7H3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 712,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex items-center justify-center bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-24 h-24 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-12 w-12 text-white\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-semibold text-gray-900 mb-2\",\n              children: \"Welcome to Whisper\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Select a chat to start messaging\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(App, \"VVq05U7MXSkXexc3Yf/gNIOWtpY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","currentPage","setCurrentPage","phoneNumber","setPhoneNumber","email","setEmail","name","setName","otp","setOtp","password","setPassword","confirmPassword","setConfirmPassword","selectedChat","setSelectedChat","message","setMessage","chats","setChats","activeTab","setActiveTab","searchQuery","setSearchQuery","currentUser","setCurrentUser","verificationStep","setVerificationStep","countdown","setCountdown","messagesEndRef","userId","setUserId","timer","setTimeout","clearTimeout","current","scrollIntoView","behavior","formatTime","timeString","test","now","Date","timePart","modifier","split","hours","minutes","parseInt","time","getFullYear","getMonth","getDate","diffDays","Math","floor","handleLoginSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","phone","undefined","data","json","ok","alert","error","err","handleRegisterSubmit","handleResendOTP","handleVerificationSubmit","length","payload","code","Object","assign","localStorage","setItem","token","user","loadChats","console","handleSendMessage","trim","getItem","chatId","id","text","updatedChat","prev","map","c","_id","handleLogout","removeItem","className","children","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","onClick","required","disabled","maxLength","filteredChats","filter","chat","toLowerCase","includes","src","charAt","alt","title","avatar","lastMessage","unread","messages","msg","sender","ref","_c","$RefreshReg$"],"sources":["/workspaces/Whisper/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('login');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [otp, setOtp] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [chats, setChats] = useState([]);\n  const [activeTab, setActiveTab] = useState('chats');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [verificationStep, setVerificationStep] = useState(1);\n  const [countdown, setCountdown] = useState(0);\n  const messagesEndRef = useRef(null);\n  const [userId, setUserId] = useState(null); // Store temp user ID from backend\n\n  // OTP countdown\n  useEffect(() => {\n    let timer;\n    if (countdown > 0) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    }\n    return () => clearTimeout(timer);\n  }, [countdown]);\n\n  useEffect(() => {\n    if (selectedChat && messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [selectedChat, message]);\n\n  // Format time safely\n  const formatTime = (timeString) => {\n    if (!/^\\d{1,2}:\\d{2} [AP]M$/.test(timeString)) return timeString;\n    const now = new Date();\n    const [timePart, modifier] = timeString.split(' ');\n    let [hours, minutes] = timePart.split(':');\n    hours = parseInt(hours, 10);\n    minutes = parseInt(minutes, 10);\n\n    if (modifier === 'PM' && hours !== 12) hours += 12;\n    if (modifier === 'AM' && hours === 12) hours = 0;\n\n    const time = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes);\n    const diffDays = Math.floor((now - time) / (1000 * 60 * 60 * 24));\n    return diffDays === 0 ? timeString : `${time.getMonth() + 1}/${time.getDate()}`;\n  };\n\n  const handleLoginSubmit = async (e) => {\n    e.preventDefault();\n    if (!phoneNumber && !email) return;\n\n    try {\n      const res = await fetch('/api/auth/send-otp', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          phone: phoneNumber || undefined,\n          email: email || undefined,\n        }),\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        setUserId(data.userId);\n        setCurrentPage('verification');\n        setVerificationStep(1);\n        setCountdown(60);\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error. Is backend running?');\n    }\n  };\n\n  const handleRegisterSubmit = async (e) => {\n    e.preventDefault();\n    if (!name || (!phoneNumber && !email) || password !== confirmPassword) return;\n\n    try {\n      const res = await fetch('/api/auth/send-otp', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          phone: phoneNumber || undefined,\n          email: email || undefined,\n        }),\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        setUserId(data.userId);\n        setCurrentPage('verification');\n        setVerificationStep(1);\n        setCountdown(60);\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error. Is backend running?');\n    }\n  };\n\n  const handleResendOTP = async () => {\n    if (countdown > 0) return;\n    await handleLoginSubmit({ preventDefault: () => {} });\n  };\n\n  const handleVerificationSubmit = async (e) => {\n    e.preventDefault();\n    if (otp.length !== 6) return;\n\n    const payload = { userId, code: otp };\n\n    if (verificationStep === 2) {\n      if (password !== confirmPassword) {\n        alert('Passwords do not match');\n        return;\n      }\n      // ✅ Fixed: 'phone' → 'phoneNumber'\n      Object.assign(payload, { name, email, phoneNumber, password });\n    }\n\n    try {\n      const res = await fetch('/api/auth/verify-otp', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json();\n\n      if (res.ok) {\n        localStorage.setItem('token', data.token);\n        setCurrentUser(data.user);\n        loadChats(data.token);\n        setCurrentPage('chat');\n      } else {\n        alert('Error: ' + data.error);\n      }\n    } catch (err) {\n      alert('Network error: ' + err.message);\n    }\n  };\n\n  const loadChats = async (token) => {\n    try {\n      const res = await fetch('/api/chats', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      const data = await res.json();\n      setChats(data);\n    } catch (err) {\n      console.error('Failed to load chats', err);\n    }\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!message.trim() || !selectedChat) return;\n\n    const token = localStorage.getItem('token');\n    try {\n      const res = await fetch('/api/chats/send', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          chatId: selectedChat.id,\n          text: message\n        })\n      });\n\n      const updatedChat = await res.json();\n      if (res.ok) {\n        setChats(prev => prev.map(c => c._id === updatedChat._id ? updatedChat : c));\n        setSelectedChat(updatedChat);\n        setMessage('');\n      }\n    } catch (err) {\n      console.error('Send failed', err);\n    }\n  };\n\n  const handleLogout = () => {\n    setCurrentPage('login');\n    setCurrentUser(null);\n    setSelectedChat(null);\n    setChats([]);\n    setPhoneNumber('');\n    setEmail('');\n    setName('');\n    setPassword('');\n    setConfirmPassword('');\n    setOtp('');\n    setUserId(null);\n    setCountdown(0);\n    localStorage.removeItem('token');\n  };\n\n  // --- RENDER PAGES ---\n\n  if (currentPage === 'login') {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Whisper</h1>\n            <p className=\"text-gray-600 mt-2\">Sign in to your account</p>\n          </div>\n\n          <form onSubmit={handleLoginSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number or Email</label>\n              <div className=\"space-y-4\">\n                <input\n                  type=\"tel\"\n                  value={phoneNumber}\n                  onChange={(e) => setPhoneNumber(e.target.value)}\n                  placeholder=\"Phone number\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n                <div className=\"flex items-center my-2\">\n                  <div className=\"flex-1 border-t border-gray-300\"></div>\n                  <span className=\"px-4 text-gray-500 text-sm\">or</span>\n                  <div className=\"flex-1 border-t border-gray-300\"></div>\n                </div>\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Email address\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n            >\n              Continue\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-gray-600\">\n              Don't have an account?{' '}\n              <button\n                onClick={() => setCurrentPage('register')}\n                className=\"text-green-600 hover:text-green-700 font-medium\"\n              >\n                Sign up\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentPage === 'register') {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Whisper</h1>\n            <p className=\"text-gray-600 mt-2\">Create a new account</p>\n          </div>\n\n          <form onSubmit={handleRegisterSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Full Name</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Enter your full name\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number or Email</label>\n              <div className=\"space-y-4\">\n                <input\n                  type=\"tel\"\n                  value={phoneNumber}\n                  onChange={(e) => setPhoneNumber(e.target.value)}\n                  placeholder=\"Phone number (optional)\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n                <div className=\"flex items-center my-2\">\n                  <div className=\"flex-1 border-t border-gray-300\"></div>\n                  <span className=\"px-4 text-gray-500 text-sm\">or</span>\n                  <div className=\"flex-1 border-t border-gray-300\"></div>\n                </div>\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Email address\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Create a password\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Confirm Password</label>\n              <input\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                placeholder=\"Confirm your password\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            {password && confirmPassword && password !== confirmPassword && (\n              <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm\">\n                Passwords don't match\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={!password || password !== confirmPassword}\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\"\n            >\n              Create Account\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-gray-600\">\n              Already have an account?{' '}\n              <button\n                onClick={() => setCurrentPage('login')}\n                className=\"text-green-600 hover:text-green-700 font-medium\"\n              >\n                Sign in\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentPage === 'verification') {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Verify Your Account</h1>\n            <p className=\"text-gray-600 mt-2\">\n              {verificationStep === 1\n                ? `We've sent a 6-digit code to ${phoneNumber || email}`\n                : 'Create a password to secure your account'}\n            </p>\n          </div>\n\n          <form onSubmit={handleVerificationSubmit} className=\"space-y-6\">\n            {verificationStep === 1 ? (\n              <>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Verification Code</label>\n                  <input\n                    type=\"text\"\n                    value={otp}\n                    onChange={(e) => setOtp(e.target.value)}\n                    placeholder=\"Enter 6-digit code\"\n                    maxLength=\"6\"\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg\"\n                    required\n                  />\n                </div>\n                <p className=\"text-sm text-gray-500 text-center\">\n                  Didn't receive the code?{' '}\n                  <button\n                    type=\"button\"\n                    onClick={handleResendOTP}\n                    disabled={countdown > 0}\n                    className={`text-green-600 hover:text-green-700 ${countdown > 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\n                  >\n                    {countdown > 0 ? `Resend in ${countdown}s` : 'Resend'}\n                  </button>\n                </p>\n              </>\n            ) : (\n              <>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">New Password</label>\n                  <input\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Create a new password\"\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Confirm Password</label>\n                  <input\n                    type=\"password\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    placeholder=\"Confirm your password\"\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    required\n                  />\n                </div>\n                {password && confirmPassword && password !== confirmPassword && (\n                  <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm\">\n                    Passwords don't match\n                  </div>\n                )}\n              </>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={verificationStep === 2 && (!password || password !== confirmPassword)}\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\"\n            >\n              {verificationStep === 1 ? 'Verify Code' : 'Complete Setup'}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => setCurrentPage('login')}\n              className=\"text-gray-600 hover:text-gray-800 text-sm\"\n            >\n              Back to Login\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentPage === 'chat' && currentUser) {\n    const filteredChats = chats.filter(chat =>\n      chat.name.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    return (\n      <div className=\"h-screen bg-gray-100 flex\">\n        {/* Sidebar */}\n        <div className=\"w-80 bg-white border-r border-gray-200 flex flex-col\">\n          {/* Header */}\n          <div className=\"p-4 bg-green-600 text-white flex items-center justify-between\">\n            <h1 className=\"text-xl font-semibold\">Whisper</h1>\n            <div className=\"flex space-x-3\">\n              <button className=\"hover:bg-white/20 p-2 rounded-full transition-colors\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </button>\n              <button className=\"hover:bg-white/20 p-2 rounded-full transition-colors\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          {/* User Profile */}\n          <div className=\"p-4 border-b border-gray-200 flex items-center space-x-3\">\n            <img\n              src={`https://placehold.co/40x40/6366f1/ffffff?text=${currentUser.name.charAt(0)}`}\n              alt={currentUser.name}\n              className=\"w-10 h-10 rounded-full object-cover\"\n            />\n            <div className=\"flex-1\">\n              <h3 className=\"font-medium text-gray-900\">{currentUser.name}</h3>\n              <p className=\"text-sm text-gray-500\">{currentUser.phone || currentUser.email}</p>\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"text-gray-500 hover:text-red-600 p-2 rounded-full transition-colors\"\n              title=\"Logout\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Tabs */}\n          <div className=\"flex border-b border-gray-200\">\n            <button\n              onClick={() => setActiveTab('chats')}\n              className={`flex-1 py-3 text-sm font-medium transition-colors ${\n                activeTab === 'chats' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Chats\n            </button>\n            <button\n              onClick={() => setActiveTab('status')}\n              className={`flex-1 py-3 text-sm font-medium transition-colors ${\n                activeTab === 'status' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Status\n            </button>\n            <button\n              onClick={() => setActiveTab('calls')}\n              className={`flex-1 py-3 text-sm font-medium transition-colors ${\n                activeTab === 'calls' ? 'text-green-600 border-b-2 border-green-600' : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Calls\n            </button>\n          </div>\n\n          {/* Search */}\n          <div className=\"p-3 border-b border-gray-200\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                placeholder=\"Search or start new chat\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-5 w-5 text-gray-400 absolute left-3 top-2.5\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n          </div>\n\n          {/* Chat List */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {filteredChats.map((chat) => (\n              <div\n                key={chat.id}\n                onClick={() => setSelectedChat(chat)}\n                className={`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${\n                  selectedChat?.id === chat.id ? 'bg-gray-100' : ''\n                }`}\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <img\n                    src={chat.avatar.trim()}\n                    alt={chat.name}\n                    className=\"w-12 h-12 rounded-full object-cover\"\n                  />\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex justify-between items-center\">\n                      <h3 className=\"text-sm font-medium text-gray-900 truncate\">{chat.name}</h3>\n                      <p className=\"text-xs text-gray-500\">{formatTime(chat.time)}</p>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <p className=\"text-sm text-gray-600 truncate\">{chat.lastMessage}</p>\n                      {chat.unread > 0 && (\n                        <span className=\"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                          {chat.unread}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Main Chat Area */}\n        <div className=\"flex-1 flex flex-col\">\n          {selectedChat ? (\n            <>\n              {/* Chat Header */}\n              <div className=\"bg-white border-b border-gray-200 p-3 flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <img\n                    src={selectedChat.avatar.trim()}\n                    alt={selectedChat.name}\n                    className=\"w-10 h-10 rounded-full object-cover\"\n                  />\n                  <div>\n                    <h2 className=\"text-lg font-medium text-gray-900\">{selectedChat.name}</h2>\n                    <p className=\"text-sm text-gray-500\">online</p>\n                  </div>\n                </div>\n                <div className=\"flex space-x-3\">\n                  <button className=\"hover:bg-gray-100 p-2 rounded-full transition-colors\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                    </svg>\n                  </button>\n                  <button className=\"hover:bg-gray-100 p-2 rounded-full transition-colors\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                    </svg>\n                  </button>\n                  <button className=\"hover:bg-gray-100 p-2 rounded-full transition-colors\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"flex-1 bg-gray-100 p-4 overflow-y-auto\">\n                <div className=\"space-y-4\">\n                  {selectedChat.messages.map((msg) => (\n                    <div\n                      key={msg.id}\n                      className={`flex ${msg.sender === 'me' ? 'justify-end' : 'justify-start'}`}\n                    >\n                      <div\n                        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                          msg.sender === 'me'\n                            ? 'bg-green-600 text-white'\n                            : 'bg-white text-gray-800 shadow'\n                        }`}\n                      >\n                        <p className=\"text-sm\">{msg.text}</p>\n                        <p\n                          className={`text-xs mt-1 ${\n                            msg.sender === 'me' ? 'text-green-100' : 'text-gray-500'\n                          }`}\n                        >\n                          {msg.time}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                  <div ref={messagesEndRef} />\n                </div>\n              </div>\n\n              {/* Message Input */}\n              <div className=\"bg-white border-t border-gray-200 p-3\">\n                <form onSubmit={handleSendMessage} className=\"flex items-center space-x-3\">\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.5a2.5 2.5 0 005 0H14M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H5a2 2 0 00-2 2v5a2 2 0 002 2z\" />\n                    </svg>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                    </svg>\n                  </button>\n                  <input\n                    type=\"text\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    placeholder=\"Type a message\"\n                    className=\"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  />\n                  <button\n                    type=\"submit\"\n                    className=\"bg-green-600 hover:bg-green-700 text-white p-2 rounded-full transition-colors\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\n                    </svg>\n                  </button>\n                </form>\n              </div>\n            </>\n          ) : (\n            <div className=\"flex-1 flex items-center justify-center bg-gray-100\">\n              <div className=\"text-center\">\n                <div className=\"w-24 h-24 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                  </svg>\n                </div>\n                <h2 className=\"text-2xl font-semibold text-gray-900 mb-2\">Welcome to Whisper</h2>\n                <p className=\"text-gray-600\">Select a chat to start messaging</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}